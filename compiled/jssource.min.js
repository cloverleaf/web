function getCookie(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}function setCookie(e,t){document.cookie=e+"="+t+"; expires="+cookieCrumble.toGMTString()+"; path=/;"}function setMode(e){setCookie("mode",mode=e),process()}function toggleSettings(){$("#engineSelector").toggle(),M.Tabs.getInstance($(".tabs")).select(mode),$("#engineSelector").is(":visible")?setCookie("showSettings","true"):document.cookie="showSettings=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function checkDebug(){debugMode&&(document.title="Perdola - Debug "+(new Date).getTime(),debug("Enabling debug css"),$("<link>").attr("rel","stylesheet").attr("type","text/css").attr("href","debug.css").appendTo("head"))}function debug(e){debugMode&&console.log(e)}function getQueryStrings(){for(var e={},t=function(e){return decodeURIComponent(e.replace(/\+/g," "))},a=location.search.substring(1).split("&"),o=0;o<a.length;o++){var n=a[o].split("=");1<n.length&&(e[t(n[0])]=t(n[1]))}return e}function passwordToggle(){$("#passwordToggle").prop("checked")?$("#pass").attr("type","password"):$("#pass").attr("type","text")}function resultToggle(){$("#resultToggle").prop("checked")?$("#result").addClass("hidden"):$("#result").removeClass("hidden")}function getRandomArbitrary(e,t){return Math.trunc(Math.random()*(t-e)+e)}function changeTheme(e){if(""===e)e=defaultTheme;else{if(!themeData[e])throw new Error('Invalid theme  "'+e+'" ');setCookie("theme",e),document.documentElement.style.setProperty("--accentColor",themeData[e].accent),document.documentElement.style.setProperty("--lightAccent",themeData[e].lightAccent),document.documentElement.style.setProperty("--textColor",themeData[e].text),document.documentElement.style.setProperty("--backgroundColor",themeData[e].background),document.documentElement.style.setProperty("--internalColor",themeData[e].internal),document.documentElement.style.setProperty("--incorrectColor",themeData[e].incorrect),document.documentElement.style.setProperty("--correctColor",themeData[e].correct),document.documentElement.style.setProperty("--inputColor",themeData[e].inputColor),document.documentElement.style.setProperty("--linkColor",themeData[e].linkColor),document.documentElement.style.setProperty("--highlightColor",themeData[e].highlightColor),document.documentElement.style.setProperty("--underlineColor",themeData[e].underlineColor)}}function process(){var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",t=[],a=$("#app").val(),o=$("#pass").val(),n=Math.trunc($("#length").val()),s="",i=defaultMinLength;if(!(i<=n&&n<=maxLength))return $("#result").text(""),void(maxLength<n&&$("#length").val(maxLength));if(""===a||""===o||""===n)return $("#result").text(""),"App / pass empty";if(jsonData[a]){if(debug("Found preset: "+a),jsonData[a].alias&&(a=jsonData[a].alias),"chars"in jsonData[a]&&(e=jsonData[a].chars),"requirements"in jsonData[a])for(var r=0;r<jsonData[a].requirements.length;r++)t.push(possibleRequirements[jsonData[a].requirements[r]]);"minLength"in jsonData[a]&&(i=jsonData[a].minLength)}for(debug("Started generating password"),"new"==mode?Math.seedrandom(keccak512(a.toLowerCase()+o)):Math.seedrandom(a.toLowerCase()+o);;){for(s="";s.length<n;)s+=e[Math.floor(Math.random()*e.length)];if(t==[])break;for(var l=!1,d=0;d<t.length;d++)for(var g=0;g<t[d].length&&-1==s.indexOf(t[d][g]);g++)if(t[d].indexOf(t[d][g])==t[d].length-1){l=!0;break}if(!l)break}$("#result").text(s)}function updateLimits(){var e=$("#app").val();if(reBindMouse(defaultMinLength,defaultMaxLength),$("#length").attr("min",defaultMinLength),$("#length").attr("max",defaultMaxLength),minLength=defaultMinLength,maxLength=defaultMaxLength,jsonData[e]){if(jsonData[e].alias&&jsonData[jsonData[e].alias])e=jsonData[e].alias;else if(jsonData[e].alias&&!jsonData[jsonData[e].alias])throw"Invalid alias";"minLength"in jsonData[e]&&jsonData[e].minLength!=minLength&&(minLength=jsonData[e].minLength,$("#length").attr("min",minLength),reBindMouse(minLength)),"maxLength"in jsonData[e]&&jsonData[e].maxLength!=maxLength&&(maxLength=jsonData[e].maxLength,$("#length").attr("max",maxLength),reBindMouse(minLength,maxLength))}}function reBindMouse(a,o){void 0===a&&(a=defaultMinLength),void 0===o&&(o=defaultMaxLength),$("#length").unbind("mousewheel"),$("#length").on("mousewheel",function(e,t){return 0<t?parseInt(this.value)<o&&(parseInt(this.value)<a?this.value=a:this.value=parseInt(this.value)+1,process()):parseInt(this.value)>a&&(parseInt(this.value)>o?this.value=o:this.value=parseInt(this.value)-1,process()),!1},{passive:!0})}function save(){$("#pass").val()&&(setCookie("password",$("#pass").val()),M.toast({html:"Password saved to your device!",displayLength:4e3,classes:"success"}))}function load(){if(void 0!==getCookie("password")){var e=getCookie("password");$("label[for='pass']").addClass("active"),$("#pass").val(e),process(),M.toast({html:"Password loaded from your device!",displayLength:4e3,classes:"success"})}else M.toast({html:"You have no saved password to load.",displayLength:4e3,classes:"warning"});Math.seedrandom(e),$("#pass").attr("style","--underlineColor: HSL("+getRandomArbitrary(0,360)+", "+getRandomArbitrary(60,100)+"%, "+getRandomArbitrary(45,80)+"%)")}var mode,instance,lastName="",autoCompleteData={},jsonData={},defaultMinLength=1,defaultMaxLength=512,minLength=defaultMinLength,maxLength=defaultMaxLength,defaultTheme="Vanilla",themeData={},debugMode=!1,engineVersion="6.0.0",d=new Date,cookieCrumble=new Date(d.getFullYear()+10,d.getMonth(),d.getDate()),possibleRequirements={cap:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",low:"abcdefghijklmnopqrstuvwxyz",num:"0123456789",special:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"};$(function(){void 0!==getCookie("cookieHidden")&&$("#cookieAlert").hide(),updateLimits(),reBindMouse(),$.getJSON("data/sites.json",function(o){jsonData=o;var e=getQueryStrings();if(e.app){var t=String(e.app);if(jsonData[t]){var a=16,n=o[lastName=t].maxLength;n||(n=defaultMaxLength),o[t].minLength<=a&&a<=n||(a=n),$("#length").val(a),process(),o[t].logo?logo=o[t].logo:logo="logos/"+t+".svg",$("#logoContainer").css("display","flex"),$("img#logo").attr("src",logo),$("img#logo").attr("alt",t),$("img#logo").attr("title",t)}$("#app").val(t),$("label[for='app']").addClass("active")}$.each(o,function(e,t){t.logo?autoCompleteData[e]=t.logo:autoCompleteData[e]="logos/"+e+".svg"}),instance=$("input#app").autocomplete({data:autoCompleteData,onAutocomplete:function(e){$("#logoContainer").css("display","flex"),$("img#logo").attr("src",autoCompleteData[e]),$("img#logo").attr("alt",e),$("img#logo").attr("title",e),o[e].alias&&debug("Using alias: "+(e=o[e].alias));var t=16,a=o[lastName=e].maxLength;a||(a=defaultMaxLength),o[e].minLength<=t&&t<=a||(t=a),$("label[for=length]").addClass("active"),$("#length").val(t),process()},minLength:0,sortFunction:function(e,t,a){if(a){if(e.startsWith(a)&&!t.startsWith(a))return-1;if(!e.startsWith(a)&&t.startsWith(a))return 1}return e<t?-1:t<e?1:0}}),$("#app").focus()}),$.getJSON("data/themes.json",function(e){themeData=e,$.each(themeData,function(e,t){$("#fabs").append("<li><a name='themes' class='btn-floating' onclick='changeTheme(\""+e+"\");' id='"+e+"' ><i class='material-icons'>color_lens</i></a></li>"),$("head").append("<style>a[id="+e+"]{background-color: "+themeData[e].background+" !important; border: 1px ;}a[id="+e+"] i {color: "+themeData[e].text+"}</style>")}),void 0!==getCookie("theme")?(debug("Found a prefered theme. Loading "+getCookie("theme")),changeTheme(getCookie("theme")),$("#"+getCookie("theme")).prop("checked",!0)):($("input[name='themes'][type=radio]").first().prop("checked",!0),changeTheme(defaultTheme)),$("#themeSelector").floatingActionButton({direction:"left",hoverEnabled:!1,toolbarEnabled:!1}),$("#themeSelector").floatingActionButton({direction:"left",hoverEnabled:!1,toolbarEnabled:!1})}),new Clipboard("#copy").on("success",function(e){""===e.text?M.toast({html:"You have no password to copy.",displayLength:4e3,classes:"warning"}):M.toast({html:"Successfully copied!",displayLength:4e3,classes:"success"})}),$("#pass").on("keyup",function(e){$("#pass").val()?(Math.seedrandom($("#pass").val()),$("#pass").attr("style","--underlineColor: HSL("+getRandomArbitrary(0,360)+", "+getRandomArbitrary(60,100)+"%, "+getRandomArbitrary(45,80)+"%)")):$("#pass").removeAttr("style"),process()}),$("#app").on("keyup",function(e){13!=e.which&&($("#logoContainer").css("display","none"),$("img#logo").removeAttr("src"),$("img#logo").removeAttr("alt"),$("img#logo").removeAttr("title"));var t=$("#app").val();lastName!=t&&(lastName=t,process())}),$("#length").on("input",function(e){process()}),checkDebug(),void 0===getCookie("engineVersion")&&setCookie("engineVersion",engineVersion),void 0===getCookie("mode")?setCookie("mode",mode="5.10.0"!=getCookie("engineVersion")?"new":"old"):mode=getCookie("mode"),$(".tooltipped").tooltip(),$(".tabs").tabs();var e=M.Tabs.getInstance($(".tabs"));if("true"==getCookie("showSettings")&&$("#engineSelector").show(),"new"!=mode&&"old"!=mode)throw new Error('Invalid mode  "'+mode+'" ');e.select(mode)});
//# sourceMappingURL=jssource.min.js.map