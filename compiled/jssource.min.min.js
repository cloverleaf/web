"use strict";function getCookie(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()}function setCookie(e,t){document.cookie=e+"="+t+"; expires="+cookieCrumble.toGMTString()+"; path=/;"}function checkDebug(){if(debugMode){document.title+=" - Debug "+(new Date).getTime(),console.debug("Enabling debug css");var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","debug.css"),document.getElementsByTagName("head")[0].appendChild(e)}"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname||(document.title+=" - LocalHost")}function getQueryStrings(){var n={},o=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return location.search.substring(1).split("&").forEach(function(e){var t=e.split("=");1<t.length&&(n[o(t[0])]=o(t[1]))}),n}function getRandomArbitrary(e,t){return Math.trunc(Math.random()*(t-e)+e)}function changeTheme(e){var t=e;if(""===e)t=defaultTheme;else{if(!themeData[e])throw new Error('Invalid theme  "'+e+'" ');setCookie("theme",t),document.documentElement.style.setProperty("--accentColor",themeData[t].accent),document.documentElement.style.setProperty("--lightAccent",themeData[t].lightAccent),document.documentElement.style.setProperty("--textColor",themeData[t].text),document.documentElement.style.setProperty("--backgroundColor",themeData[t].background),document.documentElement.style.setProperty("--internalColor",themeData[t].internal),document.documentElement.style.setProperty("--incorrectColor",themeData[t].incorrect),document.documentElement.style.setProperty("--correctColor",themeData[t].correct),document.documentElement.style.setProperty("--inputColor",themeData[t].inputColor),document.documentElement.style.setProperty("--linkColor",themeData[t].linkColor),document.documentElement.style.setProperty("--highlightColor",themeData[t].highlightColor),document.documentElement.style.setProperty("--underlineColor",themeData[t].underlineColor)}}function process(){var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",t=[],n=document.getElementById("app").value.trim(),o=document.getElementById("pass").value,a=Math.trunc(document.getElementById("length").value),l="";if(minLength<=a&&a<=maxLength)if(""!==n&&""!==o&&""!==a){if(jsonData[n]&&(console.debug("Found preset: "+n),jsonData[n].alias&&(n=jsonData[n].alias),"chars"in jsonData[n]&&(e=jsonData[n].chars),"requirements"in jsonData[n]))for(var s=0;s<jsonData[n].requirements.length;s++)t.push(possibleRequirements[jsonData[n].requirements[s]]);for(console.debug("Started generating password"),"new"===mode?Math.seedrandom(keccak512(n.toLowerCase()+o)):Math.seedrandom(n.toLowerCase()+o);;){for(l="";l.length<a;)l+=e[Math.floor(Math.random()*e.length)];if(t===[])break;for(var d=!1,r=0;r<t.length;r++)for(var i=0;i<t[r].length&&-1===l.indexOf(t[r][i]);i++)if(t[r].indexOf(t[r][i])===t[r].length-1){d=!0;break}if(!d)break}document.getElementById("result").value=l}else document.getElementById("result").value="";else{if(maxLength<a)document.getElementById("length").value=maxLength;else{if(!(a<minLength))throw document.getElementById("length").value=16,new Error("This should never happen");document.getElementById("length").value=minLength}process()}}function colourUnderline(){if(document.getElementById("pass").value){Math.seedrandom(document.getElementById("pass").value);var e="HSL("+getRandomArbitrary(0,360)+", "+getRandomArbitrary(60,100)+"%, "+getRandomArbitrary(45,80)+"%)";document.getElementById("pass").style.setProperty("--underlineColor",e)}else document.getElementById("pass").removeAttribute("style")}var autoCompleteData={},jsonData={},defaultMinLength=4,defaultMaxLength=512,minLength=defaultMinLength,maxLength=defaultMaxLength,defaultTheme="Vanilla",themeData={},debugMode=!1,engineVersion="6.0.0",mode=void 0,date=new Date,cookieCrumble=new Date(date.getFullYear()+1,date.getMonth(),date.getDate()),possibleRequirements={cap:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",low:"abcdefghijklmnopqrstuvwxyz",num:"0123456789",special:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"},targetLength=16;window.toggleSettings=function(){var e=document.getElementById("engineSelector");e.style.display="none"===e.style.display?"block":"none",M.Tabs.getInstance(document.getElementById("engineTabs")).select(mode),null!==e.offsetParent?setCookie("showSettings","true"):document.cookie="showSettings=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},window.passwordToggle=function(){document.getElementById("passwordToggle").checked?document.getElementById("pass").type="password":document.getElementById("pass").type="text"},window.copy=function(){var e=document.getElementById("result").value;if(""===e)M.toast({html:"You have no password to copy.",displayLength:4e3,classes:"warning"});else{var t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("value",e),(t=document.body.appendChild(t)).select(),document.execCommand("copy"),t.remove(),M.toast({html:"Successfully copied!",displayLength:4e3,classes:"success"})}},window.resultToggle=function(){document.getElementById("resultToggle").checked?document.getElementById("result").type="password":document.getElementById("result").type="text"},window.setMode=function(e){setCookie("mode",mode=e),process()},window.onload=function(){void 0!==getCookie("cookieHidden")&&(document.getElementById("cookieAlert").style.display="none");var s=new XMLHttpRequest;s.onload=function(){jsonData=JSON.parse(s.response);var e=getQueryStrings();if(e.app){var t=String(e.app);if(jsonData[t]){var n=targetLength,o=jsonData[t].maxLength;o||(o=defaultMaxLength),jsonData[t].minLength<=n&&n<=o||(n=o),document.getElementById("length").value=n,process();var a=void 0;a=jsonData[t].logo?jsonData[t].logo:"logos/"+t+".svg",document.getElementById("logoContainer").style.display="flex",document.getElementById("logo").src=a,document.getElementById("logo").alt=t,document.getElementById("logo").title=t}document.getElementById("app").value=t,document.querySelector("label[for='app']").classList.add("active")}for(var l in jsonData)jsonData[l].logo?autoCompleteData[l]=jsonData[l].logo:autoCompleteData[l]="logos/"+l+".svg";M.Autocomplete.init(document.getElementById("app"),{data:autoCompleteData,onAutocomplete:function(e){document.getElementById("logoContainer").style.display="flex",document.getElementById("logo").src=autoCompleteData[e],document.getElementById("logo").alt=e,document.getElementById("logo").title=e;var t=targetLength;jsonData[e].alias&&(e=jsonData[e].alias,console.debug("Using alias: "+e)),minLength=jsonData[e].minLength?jsonData[e].minLength:defaultMinLength,document.getElementById("length").min=minLength,maxLength=jsonData[e].maxLength?jsonData[e].maxLength:defaultMaxLength,document.getElementById("length").max=maxLength,minLength<=t&&t<=maxLength||(t=maxLength),document.getElementById("length").max=maxLength,process()},minLength:0,sortFunction:function(e,t,n){if(n){if(e.startsWith(n)&&!t.startsWith(n))return-1;if(!e.startsWith(n)&&t.startsWith(n))return 1}return e<t?-1:t<e?1:0}}),document.getElementById("app").focus()},s.open("get","data/sites.json",!0),s.send();var a=new XMLHttpRequest;a.onload=function(){for(var e in themeData=JSON.parse(a.response)){var t=document.createElement("li");t.innerHTML="<a class='btn-floating' onclick='changeTheme(\""+e+"\");' id='"+e+"' ><i class='material-icons'>color_lens</i></a>",document.getElementById("fabs").appendChild(t);var n="a[id="+e+"]{background-color: "+themeData[e].background+" !important; border: 1px ;}a[id="+e+"] i {color: "+themeData[e].text,o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n)),document.getElementsByTagName("head")[0].appendChild(o)}void 0!==getCookie("theme")?(console.debug("Found a prefered theme. Loading "+getCookie("theme")),changeTheme(getCookie("theme")),document.getElementById(getCookie("theme")).checked=!0):(document.getElementById("Vanilla").checked=!0,changeTheme(defaultTheme)),M.FloatingActionButton.init(document.querySelectorAll(".fixed-action-btn"),{direction:"left",hoverEnabled:!1,toolbarEnabled:!1})},a.open("get","data/themes.json",!0),a.send(),void 0===getCookie("engineVersion")&&setCookie("engineVersion",engineVersion),void 0===getCookie("mode")?setCookie("mode",mode="5.10.0"!==getCookie("engineVersion")?"new":"old"):mode=getCookie("mode"),M.Tooltip.init(document.querySelectorAll(".tooltipped")),M.Tabs.init(document.querySelectorAll(".tabs"));var e=M.Tabs.getInstance(document.getElementById("engineTabs"));if("true"===getCookie("showSettings")&&(document.getElementById("engineSelector").style.display="block"),"new"!==mode&&"old"!==mode)throw new Error('Invalid mode  "'+mode+'" ');e.select(mode),void 0!==window.orientation&&-1===navigator.userAgent.indexOf("IEMobile")||(document.getElementById("install-icon").innerHTML="add_to_queue"),checkDebug()},window.save=function(){document.getElementById("pass").value&&(setCookie("password",document.getElementById("pass").value),M.toast({html:"Password saved to your device!",displayLength:4e3,classes:"success"}))},window.load=function(){if(void 0!==getCookie("password")){var e=getCookie("password");document.querySelector("label[for='pass']").classList.add("active"),document.getElementById("pass").value=e,process(),M.toast({html:"Password loaded from your device!",displayLength:4e3,classes:"success"})}else M.toast({html:"You have no saved password to load.",displayLength:4e3,classes:"warning"});colourUnderline()},window.appInput=function(e){document.getElementById("logoContainer").style.display="none",document.getElementById("logo").removeAttribute("src"),document.getElementById("logo").removeAttribute("alt"),document.getElementById("logo").removeAttribute("title"),minLength=defaultMinLength,maxLength=defaultMaxLength,document.getElementById("length").max=maxLength,document.getElementById("length").min=minLength,document.getElementById("length").value=targetLength,process()},window.passwordUp=function(){colourUnderline(),process()},window.addEventListener("beforeinstallprompt",function(e){(window.installPromptEvent=e).preventDefault()});
//# sourceMappingURL=jssource.min.min.js.map